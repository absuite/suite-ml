webpackJsonp([33],{1047:function(t,e,n){var s=n(0)(n(1132),n(1133),!1,null,null,null);t.exports=s.exports},1086:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageKey="gmf.sys.auth."+window.location.host}return s(t,[{key:"get",value:function(){return JSON.parse(localStorage.getItem(this.storageKey))||[]}},{key:"has",value:function(t){return!1}},{key:"remove",value:function(t){if(t){for(var e=this.get(),n=0;n<e.length;n++)if(e[n].id==t.id){n;break}n>=0&&(e.splice(n,1),localStorage.removeItem(this.storageKey),localStorage.setItem(this.storageKey,JSON.stringify(e)))}}},{key:"add",value:function(t){if(t){var e=this.get(),n=!1;e.forEach(function(e){e.id==t.id&&(n=!0)}),n||e.push(t),localStorage.removeItem(this.storageKey),localStorage.setItem(this.storageKey,JSON.stringify(e))}}}]),t}();e.default=new i},1087:function(t,e,n){var s=n(0)(n(1090),n(1091),!1,function(t){n(1088)},"data-v-5d705ed4",null);t.exports=s.exports},1088:function(t,e,n){var s=n(1089);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);n(1036)("2915d18f",s,!0,{})},1089:function(t,e,n){(t.exports=n(164)(!1)).push([t.i,".login-sns[data-v-5d705ed4]{text-align:center}.login-sns .md-icon-button[data-v-5d705ed4]{margin:20px 36px 0 0;min-width:auto;box-shadow:none;width:50px;height:50px}.login-sns .md-icon-button .md-icon[data-v-5d705ed4]{transition:all .345s;width:30px;height:30px;font-size:30px}.login-sns .md-icon-button:hover .md-icon[data-v-5d705ed4]{transform:scale(1.3)}",""])},1090:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GmfPagesAuthSns",props:{title:{type:String,default:"使用合作账号登录"},type:{type:String,default:"login"}},data:function(){return{sending:!1}},computed:{canSns:function(){return!(!this.$root.configs.auth||!this.$root.configs.auth.sns)&&this.$root.configs.auth.sns},snsQQ:function(){return!!this.canSns&&this.makeUrl(this.$root.configs.auth.sns.qq)},snsWeixin:function(){return!!this.canSns&&this.makeUrl(this.$root.configs.auth.sns.weixin)},snsWeibo:function(){return!!this.canSns&&this.makeUrl(this.$root.configs.auth.sns.weibo)}},methods:{fetchData:function(){},makeUrl:function(t){var e=!1;return t&&this.type?e=t.indexOf("?")>0?t+"&type="+this.type:t+"?type="+this.type:t&&(e=t),e&&this.$route.query.continue&&(e=e.indexOf("?")>0?e+"&continue="+this.$route.query.continue:e+"?continue="+this.$route.query.continue),e}},mounted:function(){this.fetchData()}}},1091:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.canSns?n("md-card-content",{staticClass:"login-sns"},[n("div",{staticClass:"md-subheading"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"layout-row layout-align-center-center"},[t.snsQQ?n("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{href:t.snsQQ}},[n("md-icon",{attrs:{"md-src":"/assets/vendor/gmf-sys/svg/auth-qq.svg"}})],1):t._e(),t._v(" "),t.snsWeixin?n("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{href:t.snsWeixin}},[n("md-icon",{attrs:{"md-src":"/assets/vendor/gmf-sys/svg/auth-weixin.svg"}})],1):t._e(),t._v(" "),t.snsWeibo?n("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{href:t.snsWeibo}},[n("md-icon",{attrs:{"md-src":"/assets/vendor/gmf-sys/svg/auth-weibo.svg"}})],1):t._e()],1)]):t._e()},staticRenderFns:[]}},1132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(1087)),i=a(n(1086));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"AppAuthChooser",components:{AuthSns:s.default},data:function(){return{mainDatas:[],sending:!1}},computed:{routeQuery:function(){var t={};return this.$route.query&&this.$route.query.continue&&(t.continue=this.$route.query.continue),t}},methods:{removeItem:function(t){},goItem:function(t){var e=this;this.sending=!0,this.$http.post("sys/auth/checker",t).then(function(t){e.sending=!1;var n=t.data.data;n&&e.$go({name:"auth.password",params:{id:n.id},query:e.routeQuery})}).catch(function(t){e.sending=!1,e.$toast(t)})},fetchData:function(){this.mainDatas=i.default.get()||[]}},mounted:function(){this.fetchData()}}},1133:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v("选择帐号")])])],1),t._v(" "),n("md-list",[t._l(t.mainDatas,function(e){return n("md-list-item",{key:e.id,on:{click:function(n){t.goItem(e)}}},[n("md-avatar",[n("md-image",{attrs:{"md-src":e.avatar}})],1),t._v(" "),n("div",{staticClass:"md-list-item-text"},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("span",[t._v(t._s(e.account))])])],1)}),t._v(" "),n("md-list-item",{attrs:{to:{name:"auth.identifier",query:{continue:t.$route.query.continue}}}},[n("md-avatar",[n("md-icon",{staticClass:"md-size-2x"},[t._v("account_circle")])],1),t._v(" "),n("div",{staticClass:"md-list-item-text"},[n("span",[t._v("使用其他帐号")]),t._v(" "),n("span",[t._v("使用新的账号登录")])])],1)],2),t._v(" "),n("md-divider"),t._v(" "),n("auth-sns"),t._v(" "),t.mainDatas&&t.mainDatas.length?[n("md-divider"),t._v(" "),n("md-card-content",[n("md-button",{attrs:{to:{name:"auth.remove",query:{continue:t.$route.query.continue}}}},[t._v("\n        移除账号\n      ")])],1)]:t._e(),t._v(" "),t.sending?n("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e()],2)},staticRenderFns:[]}}});